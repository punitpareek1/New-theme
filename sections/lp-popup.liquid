<style>
  i#close-popup {
    position: absolute;
    right: 20px;
    color: #fff;
    background: #1f6764 ;
    width: 21px;
    height: 21px;
    text-align: center;
    border-radius: 50%;
    line-height: 1.3;
  }
  .lp-section-popup {
    position: absolute;
    top: -200px;
    z-index: 999999;
    width: 100%;
    height: 110%;
    background: #000000a3;
    display:none;
  }

  .lp-section-popup .lp-popup {
    max-width: 500px;
    background: #fff;
    display: block;
    margin: auto;
    position: relative;
    top: 3%;
    border: 3px solid #1f6764;
    border-radius: 5px;
  }

  .lp-section-popup .lp-popup-inner {
    padding: 5% 5%;
  }

  .lp-section-popup .headline-area span {
    font-size: 28px;
    display: block;
    text-align: center;
    color: #1f6764;
    font-family: "sk-modernist";
    font-weight: 500;
  }

  .lp-section-popup .headline-area p {
    display: block;
    text-align: center;
    padding: 0px 0px 10px;
    color: #333;
    font-family: "sk-modernist";
    font-weight: 400;
    font-size: 16px;
  }

  
</style>  


<div class="lp-popup" id="lp-popup">
  <div class="lp-popup-inner">
    <i class="fa fa-times" id="close-popup" aria-hidden="true"></i>
    <div class="headline-area">
      <span>{{ section.settings.heading }}</span>
     {% if section.settings.description != blank %}
      {{section.settings.description}}
      {% endif %}
    </div>

    <div class="form-area">

	  {% if section.settings.html != blank %}
       {{ section.settings.html }}
      {% endif %}
    </div>  
  </div>	
</div>

<!-- <script>
  jQuery('.open-affilate-form').on('click', function(){
    console.log(this);
    jQuery('.lp-section-popup').show();
  })
  
  jQuery('#close-popup').on('click', function(){
    console.log(this);
    jQuery('.lp-section-popup').hide();
  })
  
</script>   -->

<script>  
  addEventListener('DOMContentLoaded', (event) => {
    const modal = document.querySelector('.lp-section-popup');
 
const btnCloseModal = document.querySelector('#close-popup');
const btnsOpenModal = document.querySelectorAll('.open-affilate-form');
 console.log(modal,'lkkjklj', btnsOpenModal)
const openModal = function () {
  console.log('hii')
  modal.style.display = 'block';
};

const closeModal = function () {
  modal.style.display = 'none';
};

for (let i = 0; i < btnsOpenModal.length; i++){
  
  btnsOpenModal[i].addEventListener('click', openModal);
}

btnCloseModal.addEventListener('click', closeModal);

document.addEventListener('keydown', function (e) {
  // console.log(e.key);

  if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
    closeModal();
  }
});
  });
  


</script>  



{% schema %}
{
  "name": "LP Popup",
  "class": "lp-section-popup",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "heading"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
	{
	  "type": "html",
	  "id": "html",
	  "label": "Hubspot Code"
	}
  ],
	"presets":[{
	"name": "Lp Popup"
}]
}
{% endschema %}